export TERM="xterm-256color"
export ZSH=$HOME/.oh-my-zsh/
ZSH_THEME="terminalparty" # eastwood, af-magic, amuse, nanotech, simple, sorin, wedisagree, robbyrussel, the unraveler, zhann
PROMPT="%"
plugins=(git)
source $ZSH/oh-my-zsh.sh

alias escmap='setxkbmap -option caps:escape'
alias groot='cd $(git rev-parse --show-toplevel)'
alias open='xdg-open'
alias rall='cd ~/Documents/repositories/'
alias rdot='cd ~/Documents/repositories/dot-files'
alias vim='escmap; vim'
alias vimide='escmap; vim -c "NERDTree | wincmd w"'
alias xclip='xclip -selection clipboard'

grepm() { grep $1 ~/Music/tracking/* }
grepv() { grep $1 ~/Videos/tracking/* }

gsdel() {
	if [[ -z $1 ]]; then
		echo "Submodule name not provided"
	else
		gspath=$(git submodule status | awk '{ print $2 }' | grep $1 | head -1)
		git submodule deinit --force -- $gspath
		rm -rf .git/modules/$gspath
		git rm -rf $gspath
		git commit -am "remove submodule $gspath"
	fi
}

gsup() {
	if [[ $(git submodule update --recursive --remote) ]]; then
		git commit -am "update submodules to upstream"
	fi
}

otbkup() {
	if [[ $1 == "-copy" ]]; then
		xclip -selection clipboard < ~/Documents/onetab/backup
	elif [[ $1 == "-merge" ]]; then
		awk "NF" ~/Documents/onetab/backup > backup-temp
		mv backup-temp ~/Documents/onetab/backup
	else
		xclip -selection clipboard -out > ~/Documents/onetab/backup
	fi
	head -5 ~/Documents/onetab/backup
}

pkgup() {
	if [[ `uname` == "Linux" ]]; then
		sudo apt update
		sudo apt upgrade
		sudo apt full-upgrade
		sudo apt autoclean
		sudo apt autoremove
		pip3 install --upgrade youtube-dl
	else
		echo "Operating system not supported"
	fi
}

tland() {
	if [[ $1 == "-reverse" ]]; then
		tmux split-window -t 0.0 -h -p 60
		tmux split-window -t 0.0 -v -p 70
		tmux split-window -t 0.1 -v -p 70
		tmux send-keys -t 0.0 "htop -d 5" C-m
		tmux send-keys -t 0.1 "vis" C-m
		tmux send-keys -t 0.2 "cmus" C-m
		tmux send-keys -t 0.3 "vim -c q; reset" C-m
		tmux select-pane -t 3
	else
		tmux split-window -t 0.0 -h -p 40
		tmux split-window -t 0.1 -v -p 70
		tmux split-window -t 0.2 -v -p 70
		tmux send-keys -t 0.0 "vim -c q; reset" C-m
		tmux send-keys -t 0.1 "htop -d 5" C-m
		tmux send-keys -t 0.2 "vis" C-m
		tmux send-keys -t 0.3 "cmus" C-m
		tmux select-pane -t 0
	fi
}

tport() {
	tmux split-window -t 0.0 -v -p 80
	tmux new-window
	tmux split-window -t 1.0 -v
	tmux resize-pane -t 1.0 -y 8
	tmux send-keys -t 0.0 "vis" C-m
	tmux send-keys -t 0.1 "cmus" C-m
	tmux send-keys -t 1.0 "htop -d 5" C-m
	tmux send-keys -t 1.1 "vim -c q; reset" C-m
}
